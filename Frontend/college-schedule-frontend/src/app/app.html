<!-- Шапка -->
<div class="header">
  <div class="header-top">
    <div class="greeting">Добрый день, {{ userName }}!</div>
    <div class="current-date">{{ currentDate }}</div>
  </div>
</div>

<!-- Статистика -->
<div class="stats-bar">
  <div class="stat-item">
    <div class="stat-value">{{ stats.lectures }}</div>
    <div class="stat-label">Пары сегодня</div>
  </div>
  <div class="stat-item">
    <div class="stat-value">{{ stats.activities }}</div>
    <div class="stat-label">Мероприятия</div>
  </div>
  <div class="stat-item">
    <div class="stat-value">{{ stats.nextTime }}</div>
    <div class="stat-label">До следующего</div>
  </div>
</div>

<!-- Фильтры -->
<div class="quick-access">
  <div class="section-title">
    <span><i class="far fa-calendar-alt"></i> Расписание на сегодня</span>
  </div>
  <div class="filter-tabs">
    <div class="filter-tab" [class.active]="activeFilter === 'all'" (click)="filterEvents('all')">
      <i class="fas fa-layer-group"></i> Все
    </div>
    <div class="filter-tab" [class.active]="activeFilter === 'study'" (click)="filterEvents('study')">
      <i class="fas fa-graduation-cap"></i> Учёба
    </div>
    <div class="filter-tab" [class.active]="activeFilter === 'extra'" (click)="filterEvents('extra')">
      <i class="fas fa-star"></i> Внеурочное
    </div>
  </div>
</div>

<!-- Список событий -->
<div class="event-list">
  <app-event-card 
    *ngFor="let event of filteredEvents" 
    [event]="event">
  </app-event-card>
</div>

<!-- Навигация -->
<div class="bottom-nav">
  <div class="nav-item active">
    <i class="fas fa-calendar-day"></i>
    <div class="nav-label">Сегодня</div>
  </div>
  <div class="nav-item">
    <i class="fas fa-calendar-week"></i>
    <div class="nav-label">Неделя</div>
  </div>
  <div class="nav-item sync-btn" (click)="syncData()" [class.syncing]="isSyncing">
    <i class="fas" [class.fa-sync]="!isSyncing" [class.fa-spinner]="isSyncing" [class.fa-spin]="isSyncing"></i>
    <div class="nav-label">{{ isSyncing ? 'Синхр...' : 'Синхр.' }}</div>
  </div>
  <div class="nav-item">
    <i class="fas fa-bell"></i>
    <div class="nav-label">Уведомления</div>
  </div>
</div>

<!-- Модальное окно -->
<div class="modal-overlay" *ngIf="showAddModal">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">Новое событие</div>
      <button class="modal-close" (click)="closeAddModal()">×</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Тип события</label>
        <div class="type-selector">
          <div class="type-option" [class.active]="selectedEventType === 'study'" 
               (click)="selectEventType('study')">
            <i class="fas fa-graduation-cap"></i><br>Учёба
          </div>
          <div class="type-option" [class.active]="selectedEventType === 'extra'" 
               (click)="selectEventType('extra')">
            <i class="fas fa-star"></i><br>Доп. занятие
          </div>
          <div class="type-option" [class.active]="selectedEventType === 'activity'" 
               (click)="selectEventType('activity')">
            <i class="fas fa-users"></i><br>Мероприятие
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Название</label>
        <input type="text" class="form-control" placeholder="Например: Подготовка к экзамену" 
               [(ngModel)]="newEvent.title">
      </div>
      <div class="form-group">
        <label class="form-label">Дата и время</label>
        <input type="datetime-local" class="form-control" [(ngModel)]="newEvent.datetime">
      </div>
      <div class="form-group">
        <label class="form-label">Место</label>
        <input type="text" class="form-control" placeholder="Аудитория или онлайн" 
               [(ngModel)]="newEvent.location">
      </div>
      <div class="form-group">
        <label class="form-label">Описание (необязательно)</label>
        <textarea class="form-control" rows="3" placeholder="Детали события..." 
                  [(ngModel)]="newEvent.description"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="closeAddModal()">Отмена</button>
      <button class="btn btn-primary" (click)="addNewEvent()">Добавить в расписание</button>
    </div>
  </div>
</div>